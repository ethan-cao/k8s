# Create a Pod mc-pod in the mc-namespace namespace with three containers. The first container should be named mc-pod-1, run the nginx:1-alpine image, and set an environment variable NODE_NAME to the node name. The second container should be named mc-pod-2, run the busybox:1 image, and continuously log the output of the date command to the file /var/log/shared/date.log every second. The third container should have the name mc-pod-3, run the image busybox:1, and print the contents of the date.log file generated by the second container to stdout. Use a shared, non-persistent volume.


apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: mc-pod
  name: mc-pod
  namespace: mc-namespace
spec:
  containers:
  - image: nginx:1-alpine
    name: mc-pod-1
    env:
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            fieldPath: spec.nodeName
  - image: busybox:1
    name: mc-pod-2
    command:
      - "sh"
      - "-c"
      - "while true; do date >> /var/log/shared/date.log; sleep 1; done"
  - image: busybox:1
    name: mc-pod-3
    command:
      - "sh"
      - "-c"
      - "while true; do date >> /var/log/shared/date.log; sleep 1; done"
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}
